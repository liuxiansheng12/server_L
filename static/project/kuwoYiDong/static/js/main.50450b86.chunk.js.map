{"version":3,"sources":["components/FenYe.js","public/js/tool.js","routerComponent/Search_list.js","routerComponent/Search.js","routerComponent/musicPlay.js","routerComponent/mvPlay.js","App.js","index.js"],"names":["FenYe","state","ye","click","i","props","pn","callBack","totle","fenYeData","index","a","setState","push","unshift","this","className","map","item","onTouchStart","bind","prop","React","Component","url","fetch","data","json","ajax","urlFen","key","arr","substr","split","obj","length","SearchList","musicList","musicListBoo","rn","fenYeCallBack","getMusicList","tool","then","list","parseInt","total","xuanMusicList","to","rid","hasmv","name","artist","album","songTimeMinutes","history","listen","search","location","start","Search","hearSearch","hearSearchBoo","value","inpClick","e","boo","stopPropagation","inp","target","d","str","trim","setReSou","onClick","onInput","reMen","call","puTong","path","component","console","log","window","onclick","hearSearchNavLink","MusicPlay","musicData","lrc","musicUrl","playIndex","jinRef","createRef","musicPlayBoo","music","Audio","dangTime","jinDuChang","width","time","zong","terval","getMusicXin","id","computedZhong","getLrc","lrclist","musicPlay","src","setLrc","lineLyric","play","pause","clearInterval","val","setInterval","currentTime","dangTimeZhuan","computedWidth","Math","abs","zongArr","zhong","t","f","s","bi","class","albumpic","releaseDate","style","marginTop","ref","left","match","params","getComputedStyle","current","SearchMV","mvRef","quanPingRef","videoSrc","playBoo","jinDuWidth","quanpingBoo","kuaiJinTiShi","playQie","interval","chongXinPlay","duration","quanping","classList","remove","add","kuaijinToKuaiTui","x","y","xC","yC","ontouchstart","changedTouches","clientX","clientY","ontouchmove","biao","jiangTime","display","innerHTML","preventDefault","ontouchend","w","MvPlay","ReactDOM","render","App","document","querySelector"],"mappings":"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","file":"static/js/main.50450b86.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"../public/css/components/fenYe/fenYe.css\";\r\n\r\nexport default class FenYe extends React.Component {\r\n    state = {\r\n        ye: []\r\n    }\r\n    render() {\r\n        this.fenYeData();\r\n        return <div className=\"fenYe_content\">\r\n            {\r\n                this.state.ye.map((item, i) => {\r\n                    return <span className={this.props.pn == item && 'active'}\r\n                        onTouchStart={this.click.bind(this, item)}>{item}</span>\r\n                })\r\n            }\r\n        </div>\r\n    }\r\n    click = (i) => {\r\n        if(i == '···') return;\r\n        else if(i == '<' ) {\r\n            if(this.props.pn == 1) return;\r\n            else this.props.callBack(this.props.pn - 1)\r\n        }\r\n        else if(i == '>' ) {\r\n            if(this.props.pn == this.props.totle) return;\r\n            else this.props.callBack(this.props.pn + 1)\r\n        }\r\n        else this.props.callBack(i);\r\n    }\r\n    fenYeData = () => {\r\n        const index = this.props.pn;\r\n        const totle = this.props.totle;\r\n        let a = [];\r\n\r\n        if(totle == 1) this.setState({ye: []});\r\n        else if(totle <= 5) {\r\n            for(let i = 1; i <= totle; i ++) {\r\n                a.push(i);\r\n            }\r\n        }\r\n        else if(index <= 3) {\r\n            a = [1, 2, 3];\r\n            a.push(\"···\");\r\n            a.push(totle);\r\n        }\r\n        else if(index == 4) {\r\n            a = [1, 2, 3, 4];\r\n            a.push(\"···\");\r\n            a.push(totle);\r\n        }\r\n        else if(index == totle - 3) {\r\n            a = [totle - 3, totle - 2, totle - 1, totle];\r\n            a.unshift(1);\r\n            a.unshift(\"···\");\r\n        }\r\n        else if(index >= totle - 2) {\r\n            a = [totle - 2, totle - 1, totle];\r\n            a.unshift(1);\r\n            a.unshift(\"···\");\r\n        }\r\n        else {\r\n            a = [1, '···', index - 1, index, index + 1, '···', totle];\r\n        }\r\n        a.unshift(\"<\");\r\n        a.push(\">\");\r\n        this.state.ye = a;\r\n    }\r\n    shouldComponentUpdate(props) {\r\n        for(const prop in props) {\r\n            if(this.props[prop] != props[prop]) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n\r\n\r\n// 1 2 3 *** n\r\n// 1 2 3 *** n\r\n// 1 2 3 *** n\r\n// 1 2 3 4 *** n\r\n// 1 *** 4 5 6 *** n\r\n// 1 *** 5 6 7 *** n\r\n// 1 *** n - 3 n - 2 n - 1 n\r\n// 1 *** n - 2 n - 1 n\r\n\r\n","async function ajax(url) {\r\n    const data = await fetch(url);\r\n    return await data.json();\r\n} \r\n\r\nfunction urlFen(key) {\r\n    const str = key.substr(1);\r\n    const arr = str.split(\"&\");\r\n    const obj = {};\r\n    for(let i = 0; i < arr.length; i ++) {\r\n        const a = arr[i].split(\"=\");\r\n        obj[a[0]] = a[1];\r\n    }\r\n    return obj;\r\n}\r\n\r\n\r\nexport default {\r\n    ajax, urlFen\r\n}","\r\nimport React from \"react\";\r\nimport FenYe from \"../components/FenYe\";\r\nimport tool from \"../public/js/tool\";\r\n\r\nimport \"../public/css/searchList/searchList.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nexport default class SearchList extends React.Component {\r\n    state = {\r\n        key: \"\",\r\n        musicList: [],\r\n        musicListBoo: false,\r\n\r\n        totle: 2000,\r\n        pn: 1,\r\n        rn: 30\r\n    }\r\n    render () {\r\n        return <div className=\"searchList\">\r\n            <div className='musicList'>\r\n                <div className=\"musicList_title\">\r\n                    <ul>\r\n                        <li className=\"num\">序号</li>\r\n                        <li className=\"name\">歌曲</li>\r\n                        <li className=\"artist\">歌手</li>\r\n                        <li className=\"album\">专辑</li>\r\n                        <li className=\"time\">时长</li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"musicList_content\">\r\n                    { this.xuanMusicList() }\r\n                </div>\r\n            </div>\r\n            <div className=\"fenYe\">\r\n                <FenYe totle={this.state.totle} pn={this.state.pn} callBack={this.fenYeCallBack} />\r\n            </div>\r\n        </div>\r\n    }\r\n    componentDidMount() {\r\n        // 监听路由的变化\r\n        this.props.history.listen((history) => {\r\n            const data = tool.urlFen( history.search );\r\n            this.state.key = data.key;\r\n            this.getMusicList();\r\n        })\r\n        // 获取初始歌曲数据\r\n        const data = tool.urlFen( this.props.location.search );\r\n        this.state.key = data.key;\r\n        this.getMusicList();\r\n    }\r\n\r\n    shouldComponentUpdate(props, start) {\r\n        for(const prop in props) {\r\n            if(this.props[prop] != props[prop]) {\r\n                return true;\r\n            }\r\n        }\r\n        for(const prop in start) {\r\n            if(this.state[prop] != start[prop]) {\r\n                return true;\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n    fenYeCallBack = (i) => {\r\n        this.state.pn = i;\r\n        this.getMusicList();\r\n\r\n        this.setState({\r\n            pn: i\r\n        })\r\n    }\r\n\r\n    // 申请歌曲数据\r\n    getMusicList = () => {\r\n        const key = this.state.key;\r\n        const pn = this.state.pn;\r\n        const rn = this.state.rn;\r\n\r\n        this.setState({\r\n            musicListBoo: false\r\n        })\r\n\r\n        tool.ajax(`/kuwo/api/www/search/searchMusicBykeyWord?key=${key}&pn=${pn}&rn=${rn}`)\r\n        .then((data) => {\r\n            const musicList = data.data.list;\r\n            let totle = parseInt( data.data.total / rn );\r\n            if( totle * rn < data.data.total ) totle += 1;\r\n\r\n            this.setState({\r\n                musicList: musicList,\r\n                totle: totle,\r\n                musicListBoo: true\r\n            })\r\n        });\r\n    }\r\n\r\n    // 渲染歌曲列表\r\n    xuanMusicList = () => {\r\n        const musicList = this.state.musicList;\r\n        if(musicList.length === 0) return;\r\n        return musicList.map((item, i) => {\r\n            return <NavLink to={`/kuwoYiDong/musicPlay/${item.rid}`}>\r\n                <ul key={item.rid}>\r\n                    <li className=\"num\">{i + (this.state.pn - 1) * this.state.rn}</li>\r\n                    <li className=\"daDian name\">\r\n                        {item.hasmv > 0 && <NavLink to={`/kuwoYiDong/mvPlay/${item.rid}`} className=\"mv\">MV</NavLink>}\r\n                        <span>{item.name}</span>\r\n                    </li>\r\n                    <li className=\"daDian artist\">{item.artist}</li>\r\n                    <li className=\"daDian album\">{item.album}</li>\r\n                    <li className=\"daDian time\">{item.songTimeMinutes}</li>\r\n                </ul>\r\n            </NavLink>\r\n        })\r\n    } \r\n}","/**\r\n * 搜索路由对应的页面\r\n */\r\n\r\nimport React from \"react\";\r\nimport { NavLink, Switch, Route } from \"react-router-dom\";\r\nimport SearchList from \"./Search_list\";\r\n// import SearchMV from \"./Search_mv\";\r\n\r\nimport \"../public/css/search/search.css\";\r\nimport tool from \"../public/js/tool\";\r\n\r\nexport default class Search extends React.Component {\r\n    // \r\n    state = {\r\n        hearSearch: [\r\n            'a',\r\n            'b'\r\n        ],\r\n        hearSearchBoo: false,\r\n        value: ''\r\n    }\r\n    render() {\r\n        return <div className=\"search\">\r\n            <div className=\"input\">\r\n                <div className=\"content-inp\">\r\n                    <input onClick={this.inpClick} onInput={this.inp}></input>\r\n                    { this.state.hearSearchBoo && !this.state.value && reMen.call(this) }\r\n                    { this.state.hearSearchBoo && this.state.value && puTong.call(this) }\r\n                </div>    \r\n            </div>\r\n            <div className=\"searchJieGuo\">\r\n                <p className=\"title\">搜索结果</p>\r\n                <ul>\r\n                    <li>\r\n                        <NavLink to={`/kuwoYiDong/search/list?key=${'111'}`}>单曲</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to={`/kuwoYiDong/search/mv?key=${'111'}`}>MV</NavLink>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div className=\"route\">\r\n                <Switch>\r\n                    <Route path=\"/kuwoYiDong/search/list\" component={SearchList}></Route>\r\n                    {/* <Route path=\"/kuwoYiDong/search/mv\" component={SearchMV}></Route> */}\r\n                </Switch>\r\n            </div>\r\n        </div>\r\n    }\r\n    inpClick = (e) => {\r\n        const boo = !this.state.hearSearchBoo;\r\n        this.setState({\r\n            hearSearchBoo: boo,\r\n        })\r\n        e.stopPropagation();\r\n    }\r\n    inp = (e) => {\r\n        const value = e.target.value;\r\n        this.setState({\r\n            value: value,\r\n            hearSearchBoo: true\r\n        })\r\n        // 获取输入框中输入的数据\r\n        tool.ajax(`/kuwo/api/www/search/searchKey?key=${value}`)\r\n        .then( (data) => {\r\n            const d = data.data;\r\n\r\n            const arr = [];\r\n            for(let i = 0; i < d.length; i ++) {\r\n                let str = d[i].split(`\\n`)[0];\r\n                str = str.split(\"=\")[1];\r\n                if( typeof str !== \"string\" ) {\r\n                    str = \"\";\r\n                }\r\n                arr.push(str.trim());\r\n            }\r\n            this.setState({\r\n                hearSearch: arr\r\n            })\r\n        } )\r\n    }\r\n    componentDidMount() {\r\n        console.log(111);\r\n        window.onclick = () => {\r\n            const boo = !this.state.hearSearchBoo;\r\n            this.setState({\r\n                hearSearchBoo: boo,\r\n            })\r\n        }\r\n        this.setReSou();\r\n    }\r\n    // 获取热搜数据\r\n    setReSou = () => {\r\n        tool.ajax('/kuwo/api/www/search/searchKey?key=')\r\n        .then( (data) => {\r\n            this.setState({\r\n                hearSearch: data.data\r\n            })\r\n        } )\r\n    }\r\n}\r\n\r\n\r\n// 渲染出热门搜索下拉框\r\nfunction reMen() {\r\n    return <div className=\"hearSearch\">\r\n        <p className=\"title\">最近搜索</p>\r\n        <ul>\r\n            { hearSearchNavLink( this.state.hearSearch ) }\r\n        </ul>\r\n    </div>\r\n}\r\n\r\n// 渲染出普通搜索下拉框\r\nfunction puTong() {\r\n    return <div className=\"hearSearch\">\r\n        <ul>\r\n            { hearSearchNavLink( this.state.hearSearch ) }\r\n        </ul>\r\n    </div>\r\n}\r\n\r\n// 搜索下拉框的循环渲染\r\nfunction hearSearchNavLink(arr) {\r\n    return arr.map( (item, i) => {\r\n        return <li key={i}>\r\n            <NavLink to={`/kuwoYiDong/search/list?key=${item}`}>{item}</NavLink>\r\n        </li>\r\n    } )\r\n}","import React from \"react\";\r\nimport tool from \"../public/js/tool\";\r\n\r\nimport \"../public/css/musicPlay/musicPlay.css\";\r\n\r\nexport default class MusicPlay extends React.Component {\r\n    state = {\r\n        musicData: {},\r\n        lrc: [],\r\n        musicUrl: \"\",\r\n        playIndex: 0,\r\n\r\n        jinRef: React.createRef(),\r\n        musicPlayBoo: false,\r\n        music: new Audio(),\r\n\r\n\r\n        // 进度相关的数据\r\n        dangTime: '00:00',\r\n        jinDuChang: 0,\r\n        width: 0,\r\n        time: 0,\r\n        zong: 0,\r\n        terval: null,\r\n    }\r\n    render() {\r\n        return <div class=\"musicPlay\">\r\n            <div className=\"xinXi\">\r\n                 <span class=\"name\">{this.state.musicData.name}</span>\r\n                 --\r\n                 <span class=\"artist\">{this.state.musicData.artist}</span>\r\n             </div>\r\n            <div className=\"img\">\r\n                 <img src={this.state.musicData.albumpic} />\r\n             </div>\r\n            <div className=\"zhuanJi\">\r\n                 <span>专辑：</span> \r\n                 <span class=\"tip daDian\">{this.state.musicData.album}</span> \r\n                 <span>发行时间：</span> \r\n                 <span class=\"zhuanJi_time daDian\">{this.state.musicData.releaseDate}</span>\r\n             </div>\r\n            <div class=\"lrc\">\r\n                <div className=\"lrcContent\" style={\r\n                    {\r\n                        marginTop: `-${ this.state.playIndex >= 4 ? (this.state.playIndex - 3) * 30 : 0}px`\r\n                    }\r\n                }>\r\n                    { this.setLrc() }\r\n                </div>\r\n            </div>\r\n            <div class=\"time\">\r\n                <div className=\"timeCon\">\r\n                    <div className=\"dang\">\r\n                        <span>{ this.state.dangTime}</span>\r\n                    </div>\r\n                    <div className=\"jin\" ref={ this.state.jinRef }>\r\n                        <div className=\"t\"\r\n                            style={{ width: `${this.state.width}px` }}></div>\r\n                        <div className=\"dian\"\r\n                            style={{ left: `${this.state.width}px` }}></div>\r\n                    </div>\r\n                    <div className=\"zong\">\r\n                        <span>{ this.state.musicData.songTimeMinutes }</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"caiDan\">\r\n                {/* <i className=\"shangYiQu-icon iconFont\"></i> */}\r\n                { !this.state.musicPlayBoo && <i className=\"play-icon iconFont\"\r\n                   onTouchStart={this.play}></i> }\r\n                { this.state.musicPlayBoo && <i className=\"pause-icon iconFont\"\r\n                   onTouchStart={this.play}></i> }\r\n                {/* <i className=\"xiaYiQu-icon iconFont\"></i> */}\r\n            </div>\r\n        </div>\r\n    }\r\n    // 申请歌曲信息，以及歌词信息，以及歌曲路径\r\n    componentDidMount() {\r\n        const id = this.props.match.params.id;\r\n        // 获取歌曲信息\r\n        this.getMusicXin(id);\r\n        // 获取歌词\r\n        this.getLrc(id);\r\n        // 获取歌曲\r\n        this.musicPlay(id);\r\n\r\n        // 获取进度条的长度\r\n        this.state.jinDuChang = parseInt( getComputedStyle(this.state.jinRef.current).width );\r\n    }\r\n    componentWillUnmount() {\r\n        this.state.music.pause();\r\n        clearInterval(this.state.terval);\r\n    }\r\n\r\n    // 获取歌曲信息\r\n    getMusicXin = (id) => {\r\n        tool.ajax(`/kuwo/api/www/music/musicInfo?mid=${id}`)\r\n        .then( (data) => {\r\n            this.setState({\r\n                musicData: data.data\r\n            }, () => {\r\n                // 获取歌曲的总长度\r\n                this.computedZhong();\r\n            } )\r\n        } )\r\n    }\r\n    // 获取歌词\r\n    getLrc = (id) => {\r\n        tool.ajax(`/kuwo/newh5/singles/songinfoandlrc?musicId=${id}`)\r\n        .then( (data) => {\r\n            this.setState({\r\n                lrc: data.data.lrclist\r\n            })\r\n        } )\r\n    }\r\n    // 获取音乐\r\n    musicPlay = (id) => {\r\n        tool.ajax(`/kuwo/url?format=mp3&rid=${id}&response=url&type=convert_url3&br=128kmp3&from=web&t=1587030546976`)\r\n        .then( (data) => {\r\n            this.state.musicUrl = data.url;\r\n            this.state.music.src = data.url;\r\n        } )\r\n    }\r\n\r\n    // 创建歌词结构\r\n    setLrc = () => {\r\n        if(this.state.lrc.length == 0) return;\r\n        return this.state.lrc.map( (item, i) => {\r\n            return <div className={ i == this.state.playIndex && 'active' }>{item.lineLyric}</div>\r\n        } )\r\n    }\r\n\r\n    play = () => {\r\n        if(!this.state.musicPlayBoo) {\r\n            this.setState({\r\n                musicPlayBoo: true\r\n            });\r\n            this.state.music.play();\r\n            this.val();\r\n        }\r\n        else {\r\n            this.setState({\r\n                musicPlayBoo: false\r\n            });\r\n            this.state.music.pause();\r\n            clearInterval(this.state.terval);\r\n        }\r\n    }\r\n\r\n    // 启动定时器\r\n    val = () => {\r\n        this.state.terval = setInterval( () => {\r\n            const time = this.state.music.currentTime;\r\n            //\r\n            let dangTime = this.dangTimeZhuan(time);\r\n            // \r\n            let width = this.computedWidth(time);\r\n\r\n            // 计算歌词的位置\r\n            let playIndex = this.state.playIndex;\r\n            // 遍历歌词\r\n            if(this.state.lrc[playIndex + 1] && this.state.lrc[playIndex + 1].time <= time) {\r\n                playIndex += 1;\r\n            }\r\n\r\n            // 歌曲播放完自动切换\r\n            if(this.state.time == time && Math.abs(time - this.state.zong) < 1.5) {\r\n                    dangTime = '00:00';\r\n                    width = 0;\r\n                    playIndex = 0;\r\n                    this.state.time = 0;\r\n                    this.state.music.play();\r\n            }\r\n            else {\r\n                this.state.time = time;\r\n            }\r\n\r\n            this.setState({\r\n                dangTime: dangTime,\r\n                width: width,\r\n                playIndex: playIndex\r\n            })\r\n        }, 1000 / 60)\r\n    }\r\n\r\n    // 获取歌曲的总长度\r\n    computedZhong = () => {\r\n        // 总时间\r\n        if(!this.state.musicData || !this.state.musicData.songTimeMinutes) {\r\n            this.state.zhong = 0;\r\n            return;\r\n        }\r\n        const zongArr = this.state.musicData.songTimeMinutes.split(\":\");\r\n        this.state.zong = parseInt(zongArr[0] * 60) + parseInt(zongArr[1]);\r\n    }\r\n\r\n    // 当前时间格式的转换\r\n    dangTimeZhuan = (t) => {\r\n        if(!t) return \"00:00\";\r\n        let f = parseInt(t / 60);\r\n        let s = parseInt(t - f * 60);\r\n        if(f < 10) f = '0' + f;\r\n        if(s < 10) s = \"0\" + s;\r\n        return f + \":\" + s;\r\n    }\r\n    // 计算时间对应的进度长度\r\n    computedWidth = (t) => {\r\n        // 总时间与当前时间的比例\r\n        const bi = t / this.state.zong;\r\n        return parseInt(this.state.jinDuChang * bi);\r\n    }\r\n}","\r\nimport React from \"react\";\r\nimport tool from \"../public/js/tool\";\r\nimport \"../public/css/mvPlay/mvPlay.css\";\r\n\r\nexport default class SearchMV extends React.Component {\r\n    state = {\r\n        mvRef: React.createRef(),\r\n        jinRef: React.createRef(),\r\n        quanPingRef: React.createRef(),\r\n\r\n        videoSrc: null,\r\n        playBoo: false,\r\n        dangTime: \"00:00\",\r\n        zong: 0,\r\n        width: 0,\r\n        time: 0,\r\n        jinDuChang: 0,\r\n        jinDuWidth: 0,\r\n\r\n        terval: null,\r\n        quanpingBoo: false,\r\n\r\n        kuaiJinTiShi: React.createRef()\r\n    }\r\n    render () {\r\n        return <div className=\"mvPlay\" ref={this.state.quanPingRef}>\r\n            <div className=\"video\">\r\n                <div className=\"v\">\r\n                    <video src={this.state.videoSrc} ref={this.state.mvRef}></video>\r\n                    <div className=\"menu\">\r\n                        <div className=\"chongXinPlay\" onTouchStart={this.chongXinPlay}>\r\n                            <i className=\"chongXiPlay-icon iconFont\"></i>\r\n                        </div>\r\n                        <div className=\"col_c_p\" onTouchStart={this.playQie}>\r\n                            { !this.state.playBoo && <i className=\"iconFont play-icon\"></i> }\r\n                            { this.state.playBoo && <i className=\"iconFont pause-icon\"></i> }\r\n                        </div>\r\n                        <div className=\"jinDu\">\r\n                            <div className=\"jin\" ref={this.state.jinRef}>\r\n                                <div className=\"time\"\r\n                                    style={{ width: `${this.state.width}px` }}></div>\r\n                                <div className=\"dian\"\r\n                                    style={{ left: `${this.state.width}px` }}></div>\r\n                            </div>\r\n                            <div className=\"t\">\r\n                                <span>{this.state.dangTime}</span>/<span>{this.dangTimeZhuan(this.state.zong)}</span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"quanPing\">\r\n                            <i className=\"iconFont quanPing-icon\" onTouchStart={ this.quanping }></i>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"kuaiJinTiShi\" ref={ this.state.kuaiJinTiShi }>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n    componentDidMount() {\r\n        // 获取id\r\n        const id = this.props.match.params.id;\r\n        // 获取视频\r\n        const url = `/kuwo/url?rid=${id}&response=url&format=mp4%7Cmkv&type=convert_url`\r\n        tool.ajax(url)\r\n        .then( (data) => {\r\n            this.setState({\r\n                videoSrc: data.data\r\n            })\r\n        } )\r\n        // 获取进度条的长度\r\n        this.state.jinDuChang = parseInt( getComputedStyle(this.state.jinRef.current).width );\r\n        this.state.jinDuWidth = this.state.jinDuChang;\r\n        // \r\n        this.kuaijinToKuaiTui();\r\n    }\r\n    componentWillUnmount() {\r\n        // 关掉之前的服务器\r\n        clearInterval(  this.state.terval );\r\n        // 先暂停之前\r\n        this.state.mvRef.current.pause();\r\n    }\r\n\r\n    playQie = () => {\r\n        if(!this.state.videoSrc) return;\r\n        // 没有播放，变成播放\r\n        if(!this.state.playBoo) {\r\n            this.setState({\r\n                playBoo: true,\r\n            })\r\n            this.state.mvRef.current.play();\r\n            this.interval();\r\n        }\r\n        // 正在播放，变成停止\r\n        else {\r\n            this.setState({\r\n                playBoo: false,\r\n            })\r\n            this.state.mvRef.current.pause();\r\n            clearInterval(  this.state.terval );\r\n        }\r\n    }\r\n\r\n    // 重新播放视频\r\n    chongXinPlay = () => {\r\n        // 关掉之前的服务器\r\n        clearInterval(  this.state.terval );\r\n        // 数据的清空\r\n        this.state.time = 0;\r\n        this.state.zong = 0;\r\n        \r\n        // 先暂停之前\r\n        this.state.mvRef.current.pause();\r\n\r\n        this.setState({\r\n            playBoo: true,\r\n            dangTime: '00:00',\r\n            width: 0\r\n        })\r\n        this.state.mvRef.current.currentTime = 0;\r\n        this.state.mvRef.current.play();\r\n        this.interval();\r\n    }\r\n\r\n\r\n    // 启动定时器获取歌曲的进度\r\n    interval = () => {\r\n        this.state.terval = setInterval(() => {\r\n            const time = this.state.mvRef.current.currentTime;\r\n            //\r\n            let dangTime = this.dangTimeZhuan(time);\r\n            // \r\n            let width = this.computedWidth(time);\r\n            // 获取音乐的总时间\r\n            this.computedZhong();\r\n\r\n            // 播放完自动切换\r\n            if(this.state.time == time && Math.abs(time - this.state.zong) < 1.5) {\r\n                // 停止定时器\r\n                clearInterval(  this.state.terval );\r\n                this.chongXinPlay();\r\n            }\r\n            else {\r\n                this.state.time = time;\r\n            }\r\n\r\n            this.setState({\r\n                dangTime: dangTime,\r\n                width: width\r\n            })\r\n        }, 1000 / 60)\r\n    }\r\n    // 当前时间格式的转换\r\n    dangTimeZhuan = (t) => {\r\n        if(!t) return \"00:00\";\r\n        let f = parseInt(t / 60);\r\n        let s = parseInt(t - f * 60);\r\n        if(f < 10) f = '0' + f;\r\n        if(s < 10) s = \"0\" + s;\r\n        return f + \":\" + s;\r\n    }\r\n    // 计算时间对应的进度长度\r\n    computedWidth = (t) => {\r\n        // 总时间与当前时间的比例\r\n        const bi = t / this.state.zong;\r\n        return parseInt(this.state.jinDuChang * bi);\r\n    }\r\n    // 计算歌曲的总时间\r\n    computedZhong = () => {\r\n        // 总时间\r\n        if(this.state.zong == 0 || !this.state.zong) {\r\n            this.state.zong = this.state.mvRef.current.duration;\r\n        }\r\n    }\r\n\r\n    quanping = () => {\r\n        if(!this.state.quanpingBoo) {\r\n            this.state.quanpingBoo = true;\r\n            this.state.quanPingRef.current.classList.add(\"quanping\");\r\n            \r\n            this.state.jinDuChang = parseInt( getComputedStyle(this.state.jinRef.current).width );\r\n            const width = this.computedWidth( this.state.time );\r\n            this.setState({\r\n                width: width\r\n            });\r\n        }else {\r\n            this.state.quanpingBoo = false;\r\n            this.state.quanPingRef.current.classList.remove(\"quanping\");\r\n\r\n            this.state.jinDuChang = this.state.jinDuWidth;\r\n            const width = this.computedWidth( this.state.time );\r\n            this.setState({\r\n                width: width\r\n            });\r\n        }\r\n    }\r\n\r\n    // 右滑快进，左滑快退\r\n    kuaijinToKuaiTui = () => {\r\n        // 起始坐标\r\n        let x = 0;\r\n        let y = 0;\r\n\r\n        // 坐标的差值\r\n        let xC = 0;\r\n        let yC = 0;\r\n\r\n        this.state.mvRef.current.ontouchstart = (e) => {\r\n            x = e.changedTouches[0].clientX;\r\n            y = e.changedTouches[0].clientY;\r\n        }\r\n\r\n        this.state.mvRef.current.ontouchmove = (e) => {\r\n            xC = e.changedTouches[0].clientX - x;\r\n            yC = e.changedTouches[0].clientY - y;\r\n\r\n            const biao = this.jiangTime(xC, yC);\r\n            if( Math.abs(biao - this.state.time) > 4 ) {\r\n                this.state.kuaiJinTiShi.current.style.display = \"block\";\r\n                if(biao > this.state.time) {\r\n                    this.state.kuaiJinTiShi.current.innerHTML = \"快进\" + this.dangTimeZhuan(biao);\r\n                }\r\n                else {\r\n                    this.state.kuaiJinTiShi.current.innerHTML = \"快退\" + this.dangTimeZhuan(biao);\r\n                }\r\n            }\r\n            e.preventDefault();\r\n        }\r\n\r\n        this.state.mvRef.current.ontouchend = (e) => {\r\n            xC = e.changedTouches[0].clientX - x;\r\n            yC = e.changedTouches[0].clientY - y;\r\n\r\n            // 得到快进快退的目标时间点\r\n            const biao = this.jiangTime(xC, yC);\r\n            if( Math.abs(biao - this.state.time) > 4 ) {\r\n                this.state.kuaiJinTiShi.current.style.display = \"none\";\r\n                this.state.mvRef.current.currentTime = biao;\r\n            }\r\n        }\r\n    }\r\n    \r\n    // 得到歌曲将要到达的时间\r\n    jiangTime = (xC, yC) => {\r\n        // 算出视频应该前进或者后退的位置\r\n        let w = null;\r\n        // time\r\n        let t = this.state.time;\r\n\r\n        // 是否是全屏\r\n        if(this.state.quanpingBoo) {\r\n            w = Math.abs(yC) / 5 / this.state.jinDuChang * this.state.zong;\r\n        }\r\n        else {\r\n            w = Math.abs(xC) / 5 / this.state.jinDuChang * this.state.zong;\r\n        }\r\n        // 前进\r\n        if((xC > 10 && !this.state.quanpingBoo && this.state.playBoo)\r\n            || (yC > 10 && this.state.quanpingBoo && this.state.playBoo)) {\r\n            let time = this.state.time + w;\r\n            if(time > this.state.zong) time = this.state.zong - 10;\r\n            t = time;\r\n        }\r\n        // 后退\r\n        else if((xC < -10  && !this.state.quanpingBoo  && this.state.playBoo)\r\n            || (yC < -10  && this.state.quanpingBoo  && this.state.playBoo)) {\r\n            let time = this.state.time - w;\r\n            if(time < 0) time = 0;\r\n            t = time;\r\n        }\r\n        return t;\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\r\nimport Search from \"./routerComponent/Search\";\r\nimport MusicPlay from \"./routerComponent/musicPlay\";\r\nimport MvPlay from \"./routerComponent/mvPlay\";\r\nimport \"./public/css/base/base.css\";\r\nimport \"./public/css/iconfont/iconfont.css\";\r\n\r\nexport default function () {\r\n    return <BrowserRouter>\r\n        <div>\r\n            <Switch>\r\n                <Route path=\"/kuwoYiDong/search\" component={ Search }></Route>\r\n                <Route path=\"/kuwoYiDong/musicPlay/:id\" component={ MusicPlay }></Route>\r\n                <Route path=\"/kuwoYiDong/mvPlay/:id\" component={ MvPlay }></Route>\r\n                <Redirect to=\"/kuwoYiDong/search\"></Redirect>\r\n            </Switch>\r\n        </div>\r\n    </BrowserRouter>\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\"\r\n\r\n\r\n\r\nReactDOM.render(<App />, document.querySelector(\"#app\"));"],"sourceRoot":""}